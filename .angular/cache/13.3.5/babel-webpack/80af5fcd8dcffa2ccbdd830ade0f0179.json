{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../home/resume/technical-skills/technical-skills.service\";\nimport * as i2 from \"../projects.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\n\nfunction ProjectSelectorComponent_div_1_span_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const tag_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" #\", tag_r3, \" \");\n  }\n}\n\nfunction ProjectSelectorComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 3)(2, \"a\", 4);\n    i0.ɵɵelement(3, \"img\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 6)(5, \"a\", 4)(6, \"h5\", 7);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"p\", 8);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 9);\n    i0.ɵɵtemplate(11, ProjectSelectorComponent_div_1_span_11_Template, 2, 1, \"span\", 10);\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const project_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"routerLink\", project_r1.router);\n    i0.ɵɵadvance(1);\n    i0.ɵɵattributeInterpolate1(\"src\", \"/assets/images/projects/\", project_r1.thumbnail, \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵattribute(\"alt\", project_r1.alt);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"routerLink\", project_r1.router);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", project_r1.title, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", project_r1.desc, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", project_r1.tags);\n  }\n}\n\nexport let ProjectSelectorComponent = /*#__PURE__*/(() => {\n  class ProjectSelectorComponent {\n    constructor(technicalSkillsService, projectsService, router) {\n      this.technicalSkillsService = technicalSkillsService;\n      this.projectsService = projectsService;\n      this.router = router;\n      this.currentTagsEmitter = new EventEmitter();\n      this.FADE_IN_CLASS = \"fade-in\";\n      this.FADE_OUT_CLASS = \"fade-out\";\n      this.projects = this.projectsService.getProjects();\n    }\n\n    ngOnInit() {}\n\n    ngOnChanges(changes) {\n      // console.log(changes.tagQueryIn.previousValue);\n      // console.log(changes.tagQueryIn.currentValue);\n      let newTitleQuery = changes.titleQueryIn == null ? \"\" : changes.titleQueryIn.currentValue; // console.log(newTitleQuery);\n\n      let newTagQuery = changes.tagQueryIn == null ? \"\" : changes.tagQueryIn.currentValue;\n      this.filterProjects(\"\", newTagQuery);\n    }\n\n    filterProjects(title, tags) {\n      this.filterProjectByTitle(title);\n      this.filterProjectByTag(tags);\n    }\n\n    filterProjectByTitle(title) {\n      if (title == null) return; // if (this.titleQueryIn == null) return false;\n      // if (this.titleQueryIn.length === 0) return false;\n      // // console.log(\"#########################\");\n      // // console.log(this.titleQueryIn);\n      // let trimtitle = this.titleQueryIn.trim();\n      // trimtitle = trimtitle.replace(/\\s+/g, \" \"); \n      // let foundTitle: boolean = title.toLowerCase().includes(trimtitle);\n      // // this.filterTags(title, foundTitle);\n    }\n\n    filterProjectByTag(tags) {\n      let justLoaded = tags == null;\n      if (justLoaded) return; // console.log(tags.length)\n\n      let tagsToKeep = [];\n      setTimeout(() => {\n        let noQueryMade = tags.length === 0;\n\n        if (noQueryMade) {\n          this.noQuery();\n          tagsToKeep = this.projectsService.getAllUniqueTags();\n        } else {\n          let trimTag = tags.trim();\n          trimTag = trimTag.replace(/\\s+/g, \" \");\n          let tagList = trimTag.split(\" \");\n          let cards = document.getElementsByClassName(\"project-card\"); // console.log(cards);\n\n          for (let div = 0; div < cards.length; div++) {\n            let card = cards[div];\n            let cardTagsAsString = card.getElementsByClassName(\"tags\")[0].textContent; // console.log(cardTagsAsString);\n\n            let removeHash = \"  #\";\n            let cardTagsAsList = cardTagsAsString.trim().split(removeHash).map(e => e.replace(/[^a-zA-Z \\-\\d]/g, \"\"));\n            let hasTags = tagList.every(e => {\n              return cardTagsAsList.indexOf(e) >= 0;\n            });\n            let classList = card.classList;\n            let alreadyShowing = classList.contains(this.FADE_IN_CLASS);\n\n            if (hasTags) {\n              if (!alreadyShowing) {\n                classList.remove(this.FADE_OUT_CLASS);\n                classList.add(this.FADE_IN_CLASS);\n              } // console.log(cardTagsAsList);\n\n\n              tagsToKeep = tagsToKeep.concat(cardTagsAsList);\n            } else {\n              if (alreadyShowing) {\n                classList.remove(this.FADE_IN_CLASS);\n                classList.add(this.FADE_OUT_CLASS);\n              }\n            }\n          }\n        }\n\n        tagsToKeep = [...new Set(tagsToKeep)];\n        this.filterTags(tagsToKeep);\n      }, this.technicalSkillsService.technicalSkill == null ? 100 : 0);\n    }\n\n    noQuery() {\n      let cards = document.getElementsByClassName(\"project-card\"); // console.log(\"no query\");\n\n      for (let div = 0; div < cards.length; div++) {\n        let card = cards[div];\n        let classList = card.classList;\n        let alreadyInView = classList.contains(this.FADE_IN_CLASS);\n\n        if (alreadyInView) {\n          continue;\n        } else {\n          classList.remove(this.FADE_OUT_CLASS);\n        }\n\n        ;\n        classList.add(this.FADE_IN_CLASS);\n      }\n    }\n\n    filterTags(newTags) {\n      // console.log(\"aabout to filter tags\");\n      // console.log(newTags);\n      setTimeout(() => this.currentTagsEmitter.emit(newTags));\n    }\n\n  }\n\n  ProjectSelectorComponent.ɵfac = function ProjectSelectorComponent_Factory(t) {\n    return new (t || ProjectSelectorComponent)(i0.ɵɵdirectiveInject(i1.TechnicalSkillsService), i0.ɵɵdirectiveInject(i2.ProjectsService), i0.ɵɵdirectiveInject(i3.Router));\n  };\n\n  ProjectSelectorComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProjectSelectorComponent,\n    selectors: [[\"app-project-selector\"]],\n    inputs: {\n      titleQueryIn: \"titleQueryIn\",\n      tagQueryIn: \"tagQueryIn\"\n    },\n    outputs: {\n      currentTagsEmitter: \"currentTagsEmitter\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature],\n    decls: 2,\n    vars: 1,\n    consts: [[1, \"card-columns\"], [\"class\", \"item project-card inner fade-in\", 4, \"ngFor\", \"ngForOf\"], [1, \"item\", \"project-card\", \"inner\", \"fade-in\"], [1, \"card\"], [3, \"routerLink\"], [1, \"card-img-top\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"card-text\"], [1, \"tags\"], [\"class\", \"tag\", 4, \"ngFor\", \"ngForOf\"], [1, \"tag\"]],\n    template: function ProjectSelectorComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, ProjectSelectorComponent_div_1_Template, 12, 7, \"div\", 1);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.projects);\n      }\n    },\n    directives: [i4.NgForOf, i3.RouterLinkWithHref],\n    styles: [\".navbar[_ngcontent-%COMP%]{background-color:#3b3b69;height:60px}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span.navbar-item[_ngcontent-%COMP%]:hover{text-decoration:none!important;color:#007bff!important}.navbar-brand[_ngcontent-%COMP%]{font-size:20px!important}@media screen and (max-width: 420px){.navbar-item[_ngcontent-%COMP%]{display:none}}.navbar-brand[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:24px!important}.navbar-brand[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#f0f8ff!important}.content[_ngcontent-%COMP%], .project-content[_ngcontent-%COMP%]{margin:0}.wrapper[_ngcontent-%COMP%]{margin:30px 4rem;min-height:calc(100vh - 236px)}@media screen and (max-width: 480px){.wrapper[_ngcontent-%COMP%]{margin-left:30px;margin-right:30px}}@media screen and (min-width: 480px){.content[_ngcontent-%COMP%], .project-content[_ngcontent-%COMP%]{margin:0 2vw}}.hide[_ngcontent-%COMP%]{display:none}.controller[_ngcontent-%COMP%]{margin:0 5vw 30px}.controller[_ngcontent-%COMP%]   #searchHeader[_ngcontent-%COMP%]{font-size:1.15rem;text-align:center}.card-columns[_ngcontent-%COMP%], .controller[_ngcontent-%COMP%]{font-size:75%}label.tagCheckBox[_ngcontent-%COMP%]{font-size:70%}@media screen and (min-width: 480px){.controller[_ngcontent-%COMP%]   #searchHeader[_ngcontent-%COMP%]{font-size:1.3rem}.card-columns[_ngcontent-%COMP%], .controller[_ngcontent-%COMP%]{font-size:80%}label.btn.btn-secondary.tagCheckbox[_ngcontent-%COMP%]{font-size:75%!important}}@media screen and (min-width: 800px){.controller[_ngcontent-%COMP%]   #searchHeader[_ngcontent-%COMP%]{font-size:1.4rem}.card-columns[_ngcontent-%COMP%], .controller[_ngcontent-%COMP%]{font-size:90%}label.btn.btn-secondary.tagCheckbox[_ngcontent-%COMP%]{font-size:85%!important}}@media screen and (min-width: 1000px){.controller[_ngcontent-%COMP%]   #searchHeader[_ngcontent-%COMP%]{font-size:24px}.card-columns[_ngcontent-%COMP%], .controller[_ngcontent-%COMP%]{font-size:100%}label.btn.btn-secondary.tagCheckbox[_ngcontent-%COMP%]{font-size:90%!important}}.tagCheckboxLabel[_ngcontent-%COMP%]{margin:5px 10px}.fade-in[_ngcontent-%COMP%]{animation:fadeIn ease 1s;-webkit-animation:fadeIn ease 1s;-moz-animation:fadeIn ease 1s;-o-animation:fadeIn ease 1s;-ms-animation:fadeIn ease 1s;opacity:1;height:inherit;width:inherit}@keyframes fadeIn{0%{opacity:0;height:0px;width:0px;overflow:hidden}to{opacity:1;height:inherit;width:inherit}}@-webkit-keyframes fadeIn{0%{opacity:0;height:0px;width:0px;overflow:hidden}to{opacity:1;height:inherit;width:inherit}}.fade-out[_ngcontent-%COMP%]{animation:fadeOut ease 1s;-webkit-animation:fadeOut ease 1s;-moz-animation:fadeOut ease 1s;-o-animation:fadeOut ease 1s;-ms-animation:fadeOut ease 1s;position:absolute;overflow:hidden;height:0px;width:0px;padding:0;margin:0;border:0px}@keyframes fadeOut{0%{position:relative;opacity:1;height:inherit;width:inherit}to{overflow:hidden;position:absolute;opacity:0;height:0px;width:0px;padding:0;margin:0;border:0px}}@-webkit-keyframes fadeOut{0%{position:relative;opacity:1;height:inherit;width:inherit}to{position:absolute;overflow:hidden;opacity:0;height:0px;width:0px;padding:0;margin:0;border:0px}}.tag[_ngcontent-%COMP%]{font-size:80%;opacity:.7}a[_ngcontent-%COMP%]:hover{text-decoration:none!important;cursor:pointer}a[_ngcontent-%COMP%]:hover   h5[_ngcontent-%COMP%]{color:#59affa;text-decoration:underline}\", \".card[_ngcontent-%COMP%]{background-color:transparent;border-color:#f0f8ff;margin-bottom:20px}.card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}.inner[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f0f8ff;text-decoration:none!important}h5[_ngcontent-%COMP%]{font-weight:590}@media (min-width: 567px){.card-columns[_ngcontent-%COMP%]{-moz-column-count:2;column-count:2}}@media (min-width: 960px){.card-columns[_ngcontent-%COMP%]{-moz-column-count:3;column-count:3}}@media (min-width: 1200px){.card-columns[_ngcontent-%COMP%]{-moz-column-count:4;column-count:4}}\"]\n  });\n  return ProjectSelectorComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}